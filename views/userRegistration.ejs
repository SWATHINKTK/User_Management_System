<%- include('../views/header.ejs') %>
    <div class="main container d-flex">

        <div class="main-body container col-xl-4 col-md-7 col-sm-8 bg-light mt-5 rounded-1">
        
            <!-- Heading section -->
            <div class="title text-center mt-2 mb-4">
                <h1>Registration</h1>
                <!-- Registration result -->
                <div>
                    <% if(typeof message != 'undefined') { %>
                        <p class="<%= text %>" id="result_message">&#<%= Symbol %>;<%= message %></p>
                    <% } %>
                </div>
            </div>

            <!-- form section -->
            <form class="userReg" method="POST" action="/register" enctype="multipart/form-data" >

                <!-- firstname --> 
                <div class="form-group mt-3">
                    <span>First Name :</span>
                    <input type="text" class="form-control bg-transparent border-0 rounded-0 border-bottom" placeholder="enter first name" name="firstname" id="firstname" value="" onblur="nameValidate()">
                    <p id="first" class="text-danger"></p>

                </div>

                <!-- lastname -->
                <div class="form-group mt-3">
                    <span>Last Name :</span>
                    <input type="text" class="form-control bg-transparent border-0 rounded-0 border-bottom" placeholder="enter last name" name="lastname" id="lastname" value="" onblur="nameValidate()">
                    <p id="last" class="text-danger"></p>
                </div>

                <!--email -->
                <div class="form-group mt-3">
                    <span>Email :</span>
                    <input type="text" class="form-control bg-transparent border-0 rounded-0 border-bottom" placeholder="example@gmail.com" name="email" value="" onblur="usernameValidate(this)">
                    <p id="validateUsername" class="text-danger"></p>
                </div>
                
                <!-- PhoneNumber -->
                <div class="form-group mt-3">
                    <span>Phone Number :</span>
                    <input type="text" class="form-control bg-transparent border-0 rounded-0 border-bottom" placeholder="must have 10 numbers" name="phone" id="phone" value="" onblur="phnvalidation()">
                    <p id="phn" class="text-danger"></p>
                </div>

                <!-- profile picture -->
                <div class="form-group mt-3">
                    <span>Upload a Profile :</span>
                    <input type="file" class="form-control bg-transparent border-bottom"  name="profile" id="profile" onblur="profileValidate()">
                    <p id="validate" class="text-danger"></p>
                </div>

                <!-- Password -->
                <div class="form-group mt-3">
                    <span>Password :</span>
                    <input type="text" class="form-control bg-transparent border-0 rounded-0 border-bottom" placeholder="must have 6+ character" name="password" id="password" value="" onblur="regPassvalidate()">
                    <p id="passwordvalidate" class="text-danger"></p>
                </div>

                <div class="form-group mt-3">
                    <span>Re Enter Password :</span>
                    <input type="text" class="form-control bg-transparent border-0 rounded-0 border-bottom" placeholder="must have 6+ character" name="passwordconfirm" id="passwordconfirm" value="" onblur="regPassvalidate()">
                    <p id="confirmvalidate" class="text-danger"></p>
                </div>

                <!-- Submit button -->
                <div class="text-center mt-4 mb-3">
                    <input type="submit" class="button btn btn-outline-dark rounded-2 col-md-7 col-sm-12" value="Register">
                </div>

                <input type="hidden" id="check" name="res" value="<%= locals.check ? check : 'check' %>">

            </form>
        </div>
    </div>


    <script>
        const result = document.getElementById('result_message');
        const check = document.getElementById('check');
        if(check.value == 'sucess')
        {
            const url = '/';
            setTimeout(() => {
                window.location.href = url
            }, 3000);
        }
        setTimeout(() => {
            result.innerHTML = '';
        },3000);
    </script>
<%- include('../views/footer.ejs') %>